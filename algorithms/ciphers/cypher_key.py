cifra = 'D zrqghuixo vhuhqlwb kdv wdnhq srvvhvvlrq ri pb hqwluh vrxo, olnh wkhvh vzhhw pruqlqjv ri vsulqj zklfk L hqmrb zlwk pb zkroh khduw. L dp dorqh, dqg ihho wkh fkdup ri halvwhqfh lq wklv vsrw, zklfk zdv fuhdwhg iru wkh eolvv ri vrxov olnh plqh. L dp vr kdssb, pb ghdu iulhqg, vr devruehg lq wkh hatxlvlwh vhqvh ri phuh wudqtxlo halvwhqfh, wkdw L qhjohfw pb wdohqwv. L vkrxog eh lqfdsdeoh ri gudzlqj d vlqjoh vwurnh dw wkh suhvhqw prphqw; dqg bhw L ihho wkdw L qhyhu zdv d juhdwhu duwlvw wkdq qrz. Zkhq, zkloh wkh oryhob ydoohb whhpv zlwk ydsrxu durxqg ph, dqg wkh phulgldq vxq vwulnhv wkh xsshu vxuidfh ri wkh lpshqhwudeoh iroldjh ri pb wuhhv, dqg exw d ihz vwudb johdpv vwhdo lqwr wkh lqqhu vdqfwxdub, L wkurz pbvhoi grzq dprqj wkh wdoo judvv eb wkh wulfnolqj vwuhdp; dqg, dv L olh forvh wr wkh hduwk, d wkrxvdqg xqnqrzq sodqwv duh qrwlfhg eb ph: zkhq L khdu wkh excc ri wkh olwwoh zruog dprqj wkh vwdonv, dqg jurz idploldu zlwk wkh frxqwohvv lqghvfuledeoh irupv ri wkh lqvhfwv dqg iolhv, wkhq L ihho wkh suhvhqfh ri wkh Dopljkwb, zkr iruphg xv lq klv rzq lpdjh, dqg wkh euhdwk ri wkdw xqlyhuvdo oryh zklfk ehduv dqg vxvwdlqv xv, dv lw iordwv durxqg xv lq dq hwhuqlwb ri eolvv; dqg wkhq, pb iulhqg, zkhq gdunqhvv ryhuvsuhdgv pb hbhv, dqg khdyhq dqg hduwk vhhp wr gzhoo lq pb vrxo dqg devrue lwv srzhu, olnh wkh irup ri d ehoryhg plvwuhvv, wkhq L riwhq wklqn zlwk orqjlqj, Rk, zrxog L frxog ghvfuleh wkhvh frqfhswlrqv, frxog lpsuhvv xsrq sdshu doo wkdw lv olylqj vr ixoo dqg zdup zlwklq ph, wkdw lw pljkw eh wkh pluuru ri pb vrxo, dv pb vrxo lv wkh pluuru ri wkh lqilqlwh Jrg! R pb iulhqg -- exw lw lv wrr pxfk iru pb vwuhqjwk -- L vlqn xqghu wkh zhljkw ri wkh vsohqgrxu ri wkhvh ylvlrqv! D zrqghuixo vhuhqlwb kdv wdnhq srvvhvvlrq ri pb hqwluh vrxo, olnh wkhvh vzhhw pruqlqjv ri vsulqj zklfk L hqmrb zlwk pb zkroh khduw. L dp dorqh, dqg ihho wkh fkdup ri halvwhqfh lq wklv vsrw, zklfk zdv fuhdwhg iru wkh eolvv ri vrxov olnh plqh. L dp vr kdssb, pb ghdu iulhqg, vr devruehg lq wkh hatxlvlwh vhqvh ri phuh wudqtxlo halvwhqfh, wkdw L qhjohfw pb wdohqwv. L vkrxog eh lqfdsdeoh ri gudzlqj d vlqjoh vwurnh dw wkh suhvhqw prphqw; dqg bhw L ihho wkdw L qhyhu zdv d juhdwhu duwlvw wkdq qrz. Zkhq, zkloh wkh oryhob ydoohb whhpv zlwk ydsrxu durxqg ph, dqg wkh phulgldq vxq vwulnhv wkh xsshu vxuidfh ri wkh lpshqhwudeoh iroldjh ri pb wuhhv, dqg exw d ihz vwudb johdpv vwhdo lqwr wkh lqqhu vdqfwxdub, L wkurz pbvhoi grzq dprqj wkh wdoo judvv eb wkh wulfnolqj vwuhdp; dqg, dv L olh forvh wr wkh hduwk, d wkrxvdqg xqnqrzq sodqwv duh qrwlfhg eb ph: zkhq L khdu wkh excc ri wkh olwwoh zruog dprqj wkh vwdonv, dqg jurz idploldu zlwk wkh frxqwohvv lqghvfuledeoh irupv ri wkh lqvhfwv dqg iolhv, wkhq L ihho wkh suhvhqfh ri wkh Dopljkwb, zkr iruphg xv lq klv rzq lpdjh, dqg wkh euhdwk ri wkdw xqlyhuvdo oryh zklfk ehduv dqg vxvwdlqv xv, dv lw iordwv durxqg xv lq dq hwhuqlwb ri eolvv; dqg wkhq, pb iulhqg, zkhq gdunqhvv ryhuvsuhdgv pb hbhv, dqg khdyhq dqg hduwk vhhp wr gzhoo lq pb vrxo dqg devrue lwv srzhu, olnh wkh irup ri d ehoryhg plvwuhvv, wkhq L riwhq wklqn zlwk orqjlqj, Rk, zrxog L frxog ghvfuleh wkhvh frqfhswlrqv, frxog lpsuhvv xsrq sdshu doo wkdw lv olylqj vr ixoo dqg zdup zlwklq ph, wkdw lw pljkw eh wkh pluuru ri pb vrxo, dv pb vrxo lv wkh pluuru ri wkh lqilqlwh Jrg! R pb iulhqg -- exw lw lv wrr pxfk iru pb vwuhqjwk -- L vlqn xqghu wkh zhljkw ri wkh vsohqgrxu ri wkhvh ylvlrqv! D zrqghuixo vhuhqlwb kdv wdnhq srvvhvvlrq ri pb hqwluh vrxo, olnh wkhvh vzhhw pruqlqjv ri vsulqj zklfk L hqmrb zlwk pb zkroh khduw. L dp dorqh, dqg ihho wkh fkdup ri halvwhqfh lq wklv vsrw, zklfk zdv fuhdwhg iru wkh eolvv ri vrxov olnh plqh. L dp vr kdssb, pb ghdu iulhqg, vr devruehg lq wkh hatxlvlwh vhqvh ri phuh wudqtxlo halvwhqfh, wkdw L qhjohfw pb wdohqwv. L vkrxog eh lqfdsdeoh ri gudzlqj d vlqjoh vwurnh dw wkh suhvhqw prphqw; dqg bhw L ihho wkdw L qhyhu zdv d juhdwhu duwlvw wkdq qrz. Zkhq, zkloh wkh oryhob ydoohb whhpv zlwk ydsrxu durxqg ph, dqg wkh phulgldq vxq vwulnhv wkh xsshu vxuidfh ri wkh lpshqhwudeoh iroldjh ri pb wuhhv, dqg exw d ihz vwudb johdpv vwhdo lqwr wkh lqqhu vdqfwxdub, L wkurz pbvhoi grzq dprqj wkh wdoo judvv eb wkh wulfnolqj vwuhdp; dqg, dv L olh forvh wr wkh hduwk, d wkrxvdqg xqnqrzq sodqwv duh qrwlfhg eb ph: zkhq L khdu wkh excc ri wkh olwwoh zruog dprqj wkh vwdonv, dqg jurz idploldu zlwk wkh frxqwohvv lqghvfuledeoh irupv ri wkh lqvhfwv dqg iolhv, wkhq L ihho wkh suhvhqfh ri wkh Dopljkwb, zkr iruphg xv lq klv rzq lpdjh, dqg wkh euhdwk ri wkdw xqlyhuvdo oryh zklfk ehduv dqg vxvwdlqv xv, dv lw iordwv durxqg xv lq dq hwhuqlwb ri eolvv; dqg wkhq, pb iulhqg, zkhq gdunqhvv ryhuvsuhdgv pb hbhv, dqg khdyhq dqg hduwk vhhp wr gzhoo lq pb vrxo dqg devrue lwv srzhu, olnh wkh irup ri d ehoryhg plvwuhvv, wkhq L riwhq wklqn zlwk orqjlqj, Rk, zrxog L frxog ghvfuleh wkhvh frqfhswlrqv, frxog lpsuhvv xsrq sdshu doo wkdw lv olylqj vr ixoo dqg zdup zlwklq ph, wkdw lw pljkw eh wkh pluuru ri pb vrxo, dv pb vrxo lv wkh pluuru ri wkh lqilqlwh Jrg! R pb iulhqg -- exw lw lv wrr pxfk iru pb vwuhqjwk -- L vlqn xqghu wkh zhljkw ri wkh vsohqgrxu ri wkhvh ylvlrqv!D zrqghuixo vhuhqlwb kdv wdnhq srvvhvvlrq ri pb hqwluh vrxo, olnh wkhvh vzhhw pruqlqjv ri vsulqj zklfk L hqmrb zlwk pb zkroh khduw. L dp dorqh, dqg ihho wkh fkdup ri halvwhqfh lq wklv vsrw, zklfk zdv fuhdwhg iru wkh eolvv ri vrxov'
caracteres_especiais = " ,.-;:_?!="
alfabeto = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"


def analise_por_padrao(texto_cifrado):
    distribuicao = {}
    for letra in texto_cifrado:
        if letra in caracteres_especiais:
            continue
        if letra not in distribuicao:
            distribuicao[letra] = 1
        else:
            distribuicao[letra] += 1
    return distribuicao

def encontrar_chave(texto_cifrado):
    indice_da_letra_mais_comum = 4 

    distribuicao = analise_por_padrao(texto_cifrado)

    letras_comuns = sorted(distribuicao, key=distribuicao.get, reverse=True)

    key = alfabeto.find(letras_comuns[0].upper()) - indice_da_letra_mais_comum
    return key


print(encontrar_chave(cifra))

